:root { --bg:#0b0f1a; --panel:#121826; --panel-2:#0e1526; --text:#e8eefc; --muted:#a9b6d8; --border:#1d2742; --accent:#4f8cff; --accent-2:#7aa2ff; }
*{ box-sizing:border-box; }
html,body{ height:100%; overflow:hidden; }
body{ margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--text); background:linear-gradient(180deg,#0b0f1a 0%,#0a1020 100%); }

/* Layout */
.container{ width:100%; height:100vh; margin:0; padding:0; display:flex; flex-direction:column; overflow:hidden; }
.header{ display:flex; align-items:center; justify-content:space-between; padding:16px 24px; flex-shrink:0; }
.brand{ font-weight:700; letter-spacing:.3px; }
.badge{ padding:6px 10px; border:1px solid var(--border); border-radius:999px; color:#c8d7ff; background:var(--panel-2); font-size:12px; }

/* Card */
.card{ background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:18px; box-shadow:0 8px 24px rgba(0,0,0,.35); }
.title{ margin:0 0 8px 0; }
.sub{ color:var(--muted); font-size:14px; }

/* Forms */
.form{ display:flex; flex-direction:column; gap:12px; }
.input{ width:100%; padding:14px 14px; border-radius:10px; border:1px solid var(--border); background:#0c1426; color:var(--text); outline:none; }
.input:focus{ border-color:#2d4f8f; box-shadow:0 0 0 3px rgba(79,140,255,.18); }
.btn{ padding:12px 16px; background:linear-gradient(180deg,var(--accent-2) 0%, var(--accent) 100%); color:#fff; border:none; border-radius:10px; font-weight:700; cursor:pointer; box-shadow:0 10px 22px rgba(79,140,255,.35); }
.link{ color:#9db7ff; text-decoration:none; font-size:13px; }

/* Chat */
.shell{ display:grid; grid-template-columns: 260px 1fr; gap:18px; flex:1; min-height:0; padding:18px; overflow:hidden; }
.sidebar{ background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:16px; display:flex; flex-direction:column; gap:18px; overflow:hidden; }
.sidebar .btn{ width:100%; }
.sidebar-header{ display:flex; align-items:center; justify-content:space-between; color:#dde7ff; font-weight:600; }
.sidebar-title{ font-size:16px; }
	.sidebar-menu{ background:#1c2542; border:1px solid var(--border); color:#9fb7ff; width:40px; height:40px; border-radius:12px; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:18px; }
.sidebar-primary{ display:flex; align-items:center; justify-content:center; gap:10px; font-weight:600; letter-spacing:.1px; }
.sidebar-filters{ display:flex; flex-direction:column; gap:8px; }
.filter-btn{ border:none; background:#141c33; color:#9fb7ff; padding:10px 12px; border-radius:10px; text-align:left; font-weight:600; cursor:pointer; transition:background .18s ease, color .18s ease; }
.filter-btn.active, .filter-btn:hover{ background:#1f2d4d; color:#d9e4ff; }
.list{ display:flex; flex-direction:column; gap:8px; overflow:auto; flex:1; }
.item{ padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:#0d1730; color:#dbe6ff; cursor:pointer; transition: border .18s ease, background .18s ease; }
.item.active{ border-color:var(--accent); background:#0f1d40; }
.sidebar-footer{ display:flex; flex-direction:column; gap:10px; }
.sidebar-danger{ background:#ff4f5e; box-shadow:none; }
.sidebar-muted{ background:#1c2542; color:#d9e4ff; box-shadow:none; }
.main{ background:var(--panel); border:1px solid var(--border); border-radius:16px; display:flex; flex-direction:column; overflow:hidden; min-height:0; }
.main-header{ display:flex; align-items:center; justify-content:space-between; padding:20px 24px; border-bottom:1px solid var(--border); font-weight:600; flex-shrink:0; }
.main-title{ font-size:18px; color:#dfe7ff; }
.mode-toggle{ display:flex; gap:10px; background:#101a32; padding:4px; border-radius:999px; border:1px solid var(--border); }
.mode-toggle .mode-btn{ border:none; background:transparent; color:#8fa6d9; padding:8px 16px; border-radius:999px; font-weight:600; cursor:pointer; transition:background .18s ease, color .18s ease; }
.mode-toggle .mode-btn.active{ background:var(--accent); color:#fff; box-shadow:0 8px 18px rgba(79,140,255,.35); }
.mode-toggle .mode-btn:not(.active):hover{ background:#1e2b4c; color:#d5e3ff; }
.main-body{ position:relative; flex:1; display:flex; flex-direction:column; min-height:0; overflow-y:auto; overflow-x:hidden; }
.welcome-panel{ margin:48px auto; background:rgba(16,26,50,.9); border:1px solid #1f2d4d; border-radius:18px; padding:36px; max-width:520px; text-align:center; color:#dfe7ff; display:flex; flex-direction:column; gap:16px; box-shadow:0 12px 32px rgba(4,10,26,.45); flex-shrink:0; }
.welcome-icon{ font-size:48px; }
.welcome-panel h2{ margin:0; }
.welcome-panel p{ margin:0; color:#9fb2db; }
.suggestions{ display:flex; flex-direction:column; gap:12px; }
.suggestion{ border:none; background:#1a2545; color:#dfe7ff; padding:12px 18px; border-radius:12px; text-align:left; font-weight:600; cursor:pointer; transition:transform .18s ease, background .18s ease; }
.suggestion:hover{ background:#23325a; transform:translateY(-2px); }
.messages{ padding:24px; display:flex; flex-direction:column; gap:10px; }
.messages.hidden{ display:none; }
.msg{ padding:10px 12px; border-radius:12px; max-width:75%; line-height:1.5; white-space:pre-wrap; }
.msg.user{ background:#17284b; border:1px solid #21386a; margin-left:auto; }
.msg.bot{ background:#0c1730; border:1px solid #1a2b56; }
.composer{ display:flex; gap:10px; padding:16px 24px; border-top:1px solid var(--border); flex-shrink:0; }
.composer .input{ background:#0a1428; flex:1; }
.composer-send{ min-width:92px; }
.main-footer{ padding:8px 24px; font-size:12px; color:#7e8cb0; text-align:center; flex-shrink:0; }

/* Overlay */
.overlay{ position:fixed; right:22px; bottom:84px; width:360px; background:rgba(12,18,35,.98); border:1px solid var(--border); border-radius:12px; padding:12px; box-shadow:0 16px 36px rgba(0,0,0,.45); }
.overlay h5{ margin:0 0 6px 0; color:#c8d7ff; }
.overlay .content{ max-height:240px; overflow:auto; font-size:13px; color:#dfe7ff; }
.toggle{ position:fixed; right:22px; bottom:22px; width:44px; height:44px; border-radius:10px; border:1px solid var(--border); background:#0a1428; color:#cde; display:flex; align-items:center; justify-content:center; }

/* Sidebar backdrop overlay */
.sidebar-backdrop{
	display: none;
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: rgba(0,0,0,0.5);
	z-index: 999;
}
@media (max-width: 960px){
	.sidebar.open ~ .sidebar-backdrop,
	.sidebar-backdrop.active{
		display: block;
	}
}

/* Utility */
.center{ display:flex; align-items:center; justify-content:center; }
.grid2{ display:grid; grid-template-columns: 1fr 1fr; gap:16px; }

.shell.collapsed{ grid-template-columns: 0 1fr; }
.shell.collapsed .sidebar{ display:none; }
.mic{ width:44px; height:44px; border-radius:10px; border:1px solid var(--border); background:#0a1428; color:#cde; display:flex; align-items:center; justify-content:center; }
.mic.recording{ background:#b04141; border-color:#ff6b6b; box-shadow:0 0 0 3px rgba(255,107,107,.2); color:#fff; }

.controls{ display:flex; gap:8px; margin-top:8px; }
.controls .mini{ padding:6px 10px; border-radius:8px; border:1px solid var(--border); background:#0a1428; color:#dbe6ff; cursor:pointer; font-size:12px; }
.controls .mini:hover{ background:#0f1d40; }

.mode-btn { background: #1d2640; border: none; color: #b6cff9; border-radius: 8px; font-weight:600; box-shadow:none; }
.mode-btn:focus{ outline:2px solid var(--accent); }

/* Mobile Responsive Styles */
@media (max-width: 960px){ 
	.shell{ 
		grid-template-columns: 1fr; 
		padding: 12px;
		gap: 12px;
	} 
	.sidebar{ 
		position: fixed;
		left: -100%;
		top: 0;
		width: 280px;
		height: 100vh;
		z-index: 1000;
		transition: left 0.3s ease;
		border-radius: 0;
		border-left: none;
		border-top: none;
		border-bottom: none;
		box-shadow: 2px 0 10px rgba(0,0,0,0.3);
	}
	.sidebar.open{
		left: 0;
	}
	.main{
		width: 100%;
	}
}

@media (max-width: 720px){
	/* Header adjustments */
	.header{
		padding: 12px 16px;
	}
	.brand{
		font-size: 18px;
	}
	.badge{
		font-size: 11px;
		padding: 4px 8px;
	}
	
	/* Sidebar menu button - make it more visible on mobile */
	.sidebar-menu{
		width: 44px;
		height: 44px;
		font-size: 20px;
	}
	
	/* Shell and padding */
	.shell{
		padding: 8px;
		gap: 8px;
	}
	
	/* Main header */
	.main-header{
		padding: 12px 16px;
		flex-wrap: wrap;
		gap: 12px;
	}
	.main-title{
		font-size: 16px;
		width: 100%;
		order: 1;
	}
	.mode-toggle{
		order: 2;
		width: 100%; 
		justify-content: space-between; 
	}
	.mode-toggle .mode-btn{ 
		flex: 1; 
		padding: 6px 12px;
		font-size: 14px;
	}
	
	/* Welcome panel */
	.welcome-panel{ 
		margin: 24px 12px; 
		padding: 24px 16px; 
	}
	.welcome-icon{
		font-size: 36px;
	}
	.welcome-panel h2{
		font-size: 20px;
	}
	.welcome-panel p{
		font-size: 14px;
	}
	.suggestions{ 
		gap: 8px; 
	}
	.suggestion{
		padding: 10px 14px;
		font-size: 14px;
	}
	
	/* Messages */
	.messages{
		padding: 16px 12px;
	}
	.msg{
		max-width: 85%;
		padding: 8px 10px;
		font-size: 14px;
	}
	
	/* Composer */
	.composer{
		padding: 12px;
		gap: 8px;
		flex-wrap: wrap;
	}
	.composer .input{
		font-size: 16px; /* Prevents zoom on iOS */
		padding: 12px;
	}
	.composer-send{
		min-width: 80px;
		padding: 12px 16px;
		font-size: 14px;
	}
	.mic{
		width: 44px;
		height: 44px;
		flex-shrink: 0;
	}
	
	/* Footer */
	.main-footer{
		padding: 8px 12px;
		font-size: 11px;
	}
	
	/* Overlay and toggle */
	.overlay{
		right: 12px;
		bottom: 80px;
		width: calc(100% - 24px);
		max-width: 360px;
	}
	.toggle{
		right: 12px;
		bottom: 12px;
		width: 40px;
		height: 40px;
	}
	
	/* Controls */
	.controls{
		flex-wrap: wrap;
		gap: 6px;
	}
	.controls .mini{
		font-size: 11px;
		padding: 5px 8px;
	}
}

/* Login/Register page mobile styles */
@media (max-width: 720px){
	.container[style*="min-height:100vh"]{
		padding: 16px;
	}
	.container[style*="min-height:100vh"] h1{
		font-size: 22px !important;
	}
	.container[style*="min-height:100vh"] p{
		font-size: 14px !important;
	}
	.card{
		width: 100% !important;
		max-width: 100% !important;
		padding: 20px 16px !important;
	}
	.title{
		font-size: 20px;
	}
	.sub{
		font-size: 13px;
	}
	.input{
		padding: 12px;
		font-size: 16px; /* Prevents zoom on iOS */
	}
	.btn{
		padding: 12px 16px;
		font-size: 15px;
	}
}

/* Light theme overrides */
body.light-theme{
	background:linear-gradient(180deg,#e9edff 0%,#f7f9ff 100%);
	color:var(--text);
	--bg:#f3f6ff;
	--panel:#ffffff;
	--panel-2:#eef2ff;
	--text:#1d2748;
	--muted:#516097;
	--border:#d5def9;
	--accent:#4f6dff;
	--accent-2:#6f8cff;
}
body.light-theme .badge{ color:#42507a; background:var(--panel-2); border-color:var(--border); }
body.light-theme .sidebar{ background:#ffffff; border-color:var(--border); }
body.light-theme .sidebar-menu{ background:#eef2ff; border-color:var(--border); color:#435089; }
body.light-theme .sidebar-primary{ background:linear-gradient(180deg,#73a1ff 0%, #4f6dff 100%); color:#fff; }
body.light-theme .filter-btn{ background:#eef2ff; color:#3d4b7d; }
body.light-theme .filter-btn.active,
body.light-theme .filter-btn:hover{ background:#dbe4ff; color:#1f2d4d; }
body.light-theme .list .item{ background:#f4f7ff; border-color:#d8e1ff; color:#24325c; }
body.light-theme .item.active{ background:#e3ebff; border-color:#4f6dff; }
body.light-theme .sidebar-footer .btn{ color:#213065; }
body.light-theme .sidebar-muted{ background:#eef2ff; color:#213065; }
body.light-theme .main{ background:#ffffff; border-color:var(--border); }
body.light-theme .main-header{ border-bottom:1px solid var(--border); color:#1f2d4d; }
body.light-theme .mode-toggle{ background:#ecf0ff; border-color:#d4dcff; }
body.light-theme .mode-toggle .mode-btn{ color:#435089; }
body.light-theme .mode-toggle .mode-btn:not(.active):hover{ background:#dbe4ff; color:#1f2d4d; }
body.light-theme .main-title{ color:#1f2d4d; }
body.light-theme .welcome-panel{ background:#ffffff; border-color:#d4dcff; color:#1f2d4d; box-shadow:0 8px 24px rgba(130,155,255,.25); }
body.light-theme .welcome-panel p{ color:#56669a; }
body.light-theme .suggestion{ background:#eef2ff; color:#1f2d4d; }
body.light-theme .suggestion:hover{ background:#dbe4ff; }
body.light-theme .msg.user{ background:#e7edff; border-color:#c4d2ff; color:#1f2d4d; }
body.light-theme .msg.bot{ background:#f4f6ff; border-color:#d8e1ff; color:#1d2748; }
body.light-theme .composer{ border-top:1px solid var(--border); background:#f7f9ff; }
body.light-theme .composer .input{ background:#f1f4ff; color:#1f2d4d; border:1px solid var(--border); }
body.light-theme .mic{ background:#eef2ff; color:#1f2d4d; }
body.light-theme .toggle{ background:#eef2ff; color:#1f2d4d; border-color:var(--border); }
body.light-theme .overlay{ background:rgba(255,255,255,.92); color:#1f2d4d; border-color:var(--border); }
body.light-theme .overlay h5{ color:#334274; }
body.light-theme .controls .mini{ background:#eef2ff; color:#1f2d4d; }
body.light-theme .controls .mini:hover{ background:#dbe4ff; }
body.light-theme .main-footer{ color:#5a6aa0; }
